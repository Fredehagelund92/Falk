# Semantic Models (Boring Semantic Layer format)
# Define your metrics and dimensions here
# See: https://boringdata.github.io/boring-semantic-layer/

semantic_models:
  - name: sales_metrics
    table: sales_fact
    description: "E-commerce sales data with revenue, orders, and customer metrics"
    
    dimensions:
      - name: date
        display_name: "Date"
        type: time
        expr: _.date
        description: "Transaction date"
        
      - name: product_category
        display_name: "Product Category"
        type: categorical
        expr: _.product_category
        description: "Product category (Electronics, Clothing, etc.)"
        synonyms: ["category", "product type"]
        
      - name: region
        display_name: "Region"
        type: categorical
        expr: _.region
        description: "Sales region (US, EU, APAC, LATAM)"
        synonyms: ["territory", "area", "market"]
        
      - name: customer_segment
        display_name: "Customer Segment"
        type: categorical
        expr: _.customer_segment
        description: "Customer segment (Enterprise, SMB, Consumer)"
        synonyms: ["segment", "customer type"]

      - name: customer_id
        display_name: "Customer"
        type: categorical
        expr: _.customer_id
        description: "Unique customer identifier"
        synonyms: ["customer", "account", "client"]
    
    measures:
      - name: revenue
        display_name: "Revenue"
        expr: _.revenue.sum()
        description: "Total revenue in USD"
        synonyms: ["sales", "income", "turnover"]
        
      - name: orders
        display_name: "Orders"
        expr: _.orders.sum()
        description: "Total number of orders"
        synonyms: ["transactions", "purchases"]
        
      - name: average_order_value
        display_name: "Average Order Value"
        expr: _.revenue.sum() / _.orders.sum()
        description: "Average revenue per order"
        synonyms: ["aov", "avg order size", "basket size"]
        
      - name: customers
        display_name: "Customers"
        expr: _.customer_id.nunique()
        description: "Number of unique customers"
        synonyms: ["users", "buyers", "unique customers"]
